<flu-hero-container class="content">

  <h1 class="title">Suivi des lettres de voiture</h1>

  <table class="table is-striped" *ngIf="waybills$ | async as waybills; else loading">
    <thead>
    <th>Nº LV</th>
    <th>Propietaire</th>
    <th>Donneur d'ordre</th>
    <th>Expéditeur</th>
    <th>Destinataire</th>
    <th>Bateau</th>
    <th>Chargement validé</th>
    <th>Chargement confirmé</th>
    <th>Déchargement validé</th>
    <th>Déchargement confirmé</th>
    <th>Tonnage transporté</th>
    </thead>
    <tbody>
    <tr *ngFor="let waybill of waybills">
      <td><a [routerLink]="['/lettre-de-voiture', waybill.code, 'detail']">{{waybill.code}}</a></td>
      <td>{{waybill.owner}}</td>
      <td>{{waybill.orderInfo.customer.name || 'non renseigné'}}</td>
      <td>{{waybill.orderInfo.sender.name || 'non renseigné'}}</td>
      <td>{{waybill.orderInfo.receiver.name || 'non renseigné'}}</td>
      <td>{{waybill.orderInfo.ship.name || 'non renseigné'}}</td>
      <td>{{waybill.loadInfo.sentAt | date: "short"}}</td>
      <td>{{waybill.loadInfo.validatedAt | date: "short"}}</td>
      <td>{{waybill.unloadInfo.sentAt | date: "short"}}</td>
      <td>{{waybill.unloadInfo.validatedAt | date: "short"}}</td>
      <td>{{waybill.orderInfo.merchandise.weight}}</td>
    </tr>
    </tbody>
  </table>
</flu-hero-container>

<ng-template #loading>
  <flu-loading></flu-loading>
</ng-template>
